---
title: 事件
date: 2017-08-09 10:12:50
tags: javaScript高级程序设计笔记
---
## 事件流
### DOM事件流
> DOM2级事件规定事件流包括三个阶段: 事件捕获阶段, 处于目标阶段和事件冒泡阶段. IE9+的等浏览器都支持此事件流

## 事件处理程序
### DOM0级事件处理程序

```
var div = document.getElementById("div1");
div.onclick = function() {
	console.log(this.id);//div1
}

div.onclick = null;//删除事件
```

### DOM2级事件处理程序
- addEventListener(要处理的事件名, 作为事件处理的函数, 是否捕捉);
- removeEventListener(要处理的事件名, 作为事件处理的函数, 是否捕捉);

```
var div = document.getElementById("div1"); 
var handler = function() {
	//do something
}
div.addEventListener('click', handler, false);
div.removeEventListener('click', handler, false);
```

### IE事件处理程序
- attachEvent(事件处理名称, 事件处理函数)
- detachEvent(事件处理名称, 事件处理函数)

> `attachEvent`绑定的事件需要添加前缀`on`, 而`addEventListener`不需要; 事件处理函数的`this`指向`window`

```
var div = document.getElementById("div1"); 
var handler = function() {
	console.log(this === window); //true
}
div.attachEvent('onclick', handler);
div.detachEvent('onclick', handler);
```