---
title: Vim实用技巧
date: 2018-05-02 10:43:46
tags: Vim实用技巧
---

## Vim 解决问题的方式
按键操作 | 用途
- | -:
f{char} | 查找字符
; | 命令会重复查找上次 f 命令所查找的字符(f查找多次可以使用;一次实现)
:s/target/replacement | 替换内存
\* | 光标会跳到下一个匹配项上, 所有出现这个 词的地方都会被高亮显示出来(:set hls)

## 普通模式
按键操作 | 用途
- | -:
db | 向前删除
daw | 删除整个字符
dap | 删除整个段落
`{num}<C-a>` | 对数字进行++
`{num}<C-x>` | 对数字进行--
d{num}w | 删除单词
\> | 增加缩进
< | 减少缩进
= | 自动缩进
g~ | 反转大小写
gu | 转换为小写
gU | 转换为大写

## 插入模式

按键操作 | 用途
- | -:
`<C-h>` | 删除前一个字符(同退格键)
`<C-w>` | 删除前一个单词
`<C-u\>` | 删至行首
`<C-r>`={运算} | 获取计算结果
`<C-v>`{065} | 插入ASCII码 
`<C-v>`u{1234} | 插入utf8字符 
 ga | 查看字符编码信息
`<C-k>{char1}{char2}` | 插入以二合字母{char1}{char2}表示的字符

## 可视模式

按键操作 | 用途
- | -:
`<C-v>` | 激活面向列块的可视模式
gv | 重选上次的高亮选区
o | 在选择模式下可以切换活动端点
vit | 选择标签里的内容


按键操作 | 用途
- | -:
'm | 包含位置标记 m 的行 
'< | 高亮选区的起始行   
'> | 高亮选区的结束行
% | 整个文件


### 复制移动和复制行

按键操作 | 用途
- | -:
:.6t. | 把第6行复制到当前行下方
:t6 | 把当前行复制第6行
:t. | 复制当前行
:t$ | 把当前行复制到文本结尾;
`:'<,'>t0` | 把高亮选中的行复制到文件开头
:[range]m {address} | 移动行

### 在指定范围上执行普通模式命令

按键操作 | 用途
- | -:
:'<,'>normal . |   快速批量重复之前的操作
:%normal A; |   %表示给整个文件 A表示跳至最后一行 然后添加;
:'<,'>normal i// |   给选中的加上//注释

### 重复之前的ex操作
按键操作 | 用途
- | -:
@: | 重复之前的ex操作
xx`<C-d>` tab | 自动补全
:`<C-r><C-w>` | 复制当前光标的单词到命令行
\* | 匹配下一个单词
q/ | 打开查找命令历史的命令行窗口
q: | 打开 EX 命令历史的命令行窗口
`<Ctrl-f>` | 从命令行模式切换到命令行窗口

### 运行Shell命令
按键操作 | 用途
- | -:
:!ls | 运行shell命令
:% | %代表当前文件
:read !{cmd} | 把{cmd}命令的输出读入当前缓冲区中
:write !{cmd} | 把缓冲区的内容传给外部的shell
:write! {cmd} | 把缓冲区的内容写入到{cmd}文件中
:2,$!sort -t "," -k2 | 对一定范围内的数据调用shell进行排序

## 管理多个文件

按键操作 | 用途
- | -:
:ls/args | 查看打开的文件
:bnext/bn | 切换到缓冲区的下一个文件
:bprev/bp | 切换到缓冲区的上一个文件
:bfirst/bf | 切换到缓冲区的第一个文件
:blastbl | 切换到缓冲区的最后一个文件
:buffer {n} | 切换到缓冲区的第{n}个文件
:buffer {name} | 切换到缓冲区的{name}文件
:bdelete/bd {name} | 删除缓冲区{name}文件

### 管理隐藏缓冲区
按键操作 | 用途
- | -:
:w[rite] | 把缓冲区的内容写入磁盘
:e[dit]! | 把磁盘中的内容写入缓冲区
:qa[ll]! | 强制关闭所有
:wa[ll]! | 把所有缓冲区的内容写入磁盘

### 将工作区切分成窗口
按键操作 | 用途
- | -:
:sp/`<C-w>s` | 水平切分窗口
:vsp/`<C-w>v` | 垂直切分窗口
`<C-w>w/h/j/k/l` | 窗口间切换
:clo[se]/`<C-w>c` | 关闭当前窗口
:on[ly] | 只保留当前窗口
`<C-w>=` | 窗口等宽等高
`<C-w>_` | 窗口最大高度
`<C-w>|` | 窗口最大宽度
[N]`<C-w>_` | 窗口高度设置到[N]行
[10]`<C-w>|` | 窗口宽度设置到[N]列